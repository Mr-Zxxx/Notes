# å¼€å‘æ–‡æ¡£ç¼–å†™

### ç¬¬ä¸€å±‚ï¼šæœ€ç®€å¯è¿è¡Œï¼ˆMVP å¿…å¤‡ï¼‰

| æ–‡æ¡£           | ç›®çš„                       | å…¸å‹æ–‡ä»¶/ä½ç½®                                   | å·¥å…·ç¤ºä¾‹                |
| :------------- | :------------------------- | :---------------------------------------------- | :---------------------- |
| README.md      | æ–°äºº 5 åˆ†é’Ÿè·‘èµ·æ¥          | æ ¹ç›®å½•                                          | Markdown                |
| ç¯å¢ƒæ¸…å•       | ä¸€é”®è¿˜åŸå¼€å‘/æµ‹è¯•/ç”Ÿäº§ç¯å¢ƒ | `docs/ENV.md` + Docker Compose / Nix / Brewfile | Docker, Nix             |
| æ„å»ºä¸éƒ¨ç½²è„šæœ¬ | CI/CD å¯é‡å¤               | `.github/workflows/`, `Makefile`, `deploy.sh`   | GitHub Actions, Jenkins |
| CHANGELOG.md   | ç”¨æˆ·å¯è§çš„å˜æ›´è®°å½•         | æ ¹ç›®å½•                                          | Keep a Changelog è§„èŒƒ   |

> âœ… å°å›¢é˜Ÿï¼ˆ<5 äººï¼‰å…ˆä¿è¯è¿™ 4 ä¸ªæ–‡ä»¶å­˜åœ¨ï¼Œå°±èƒ½åšåˆ°â€œä»»ä½•æ–°äºº 30 åˆ†é’Ÿèƒ½è·‘èµ·æ¥â€ã€‚

------

### ç¬¬äºŒå±‚ï¼šé•¿æœŸå¯ç»´æŠ¤ï¼ˆä¸Šçº¿åå¿…é¡»è¡¥é½ï¼‰

| ç±»åˆ«          | æ–‡æ¡£                | é¢å‘å¯¹è±¡       | å…³é”®å†…å®¹                                 | æ¨èå·¥å…·                          |
| :------------ | :------------------ | :------------- | :--------------------------------------- | :-------------------------------- |
| **éœ€æ±‚/äº§å“** | PRDï¼ˆäº§å“éœ€æ±‚æ–‡æ¡£ï¼‰ | äº§å“ç»ç†ã€å®¢æˆ· | ä¸šåŠ¡æµç¨‹ã€è§’è‰²æƒé™ã€éªŒæ”¶æ ‡å‡†             | Notionã€é£ä¹¦å¤šç»´è¡¨                |
| **æŠ€æœ¯è®¾è®¡**  | ç³»ç»Ÿæ¶æ„å›¾          | å…¨å›¢é˜Ÿ         | C4 Modelï¼ˆä¸Šä¸‹æ–‡ã€å®¹å™¨ã€ç»„ä»¶ã€ä»£ç ï¼‰     | draw.ioã€Structurizr              |
|               | ADRï¼ˆæ¶æ„å†³ç­–è®°å½•ï¼‰ | æŠ€æœ¯éª¨å¹²       | â€œä¸ºä»€ä¹ˆç”¨ Kafka è€Œä¸æ˜¯ RabbitMQâ€         | Markdown + `docs/adr/0001-xxx.md` |
|               | ER å›¾ / API å¥‘çº¦    | å‰åç«¯         | OpenAPI/Swaggerã€dbdiagram.io            | Swagger UIã€dbdocs                |
| **ä»£ç çº§**    | ä»£ç æ³¨é‡Š & ç±»å‹     | å¼€å‘è€…         | JSDoc / TypeDoc / docstring              | IDE è‡ªåŠ¨ç”Ÿæˆ                      |
|               | æ¨¡å— README         | å¼€å‘è€…         | æ¯ä¸ªå¾®æœåŠ¡/æ¨¡å—çš„å…¥å£ã€é…ç½®              | åŒä»“åº“                            |
| **æµ‹è¯•**      | æµ‹è¯•ç­–ç•¥            | QAã€Dev        | å•å…ƒ/æ¥å£/E2E èŒƒå›´ã€æµ‹è¯•æ•°æ®             | `docs/TEST.md`                    |
|               | å›å½’æµ‹è¯•ç”¨ä¾‹        | QA             | æ ¸å¿ƒåœºæ™¯æ¸…å•                             | TestLinkã€ç¦…é“                    |
| **è¿ç»´**      | è¿è¡Œæ‰‹å†Œï¼ˆRunbookï¼‰ | DevOpsã€å€¼ç­   | æ—¥å¿—ä½ç½®ã€é‡å¯å‘½ä»¤ã€å›æ»šæ­¥éª¤             | `docs/RUNBOOK.md`                 |
|               | ç›‘æ§å‘Šè­¦è§„åˆ™        | DevOps         | Prometheus rulesã€Grafana dashboard é“¾æ¥ | YAML + README                     |
| **å®‰å…¨**      | å¨èƒå»ºæ¨¡æŠ¥å‘Š        | å®‰å…¨å›¢é˜Ÿ       | STRIDEã€æ•°æ®æµå›¾                         | Microsoft TMT                     |
|               | ä¾èµ–æ¼æ´æ¸…å•        | å…¨å›¢é˜Ÿ         | `pnpm audit`, `trivy` æŠ¥å‘Š               | GitHub Dependabot                 |

------

### ç¬¬ä¸‰å±‚ï¼šç»„ç»‡çº§æ²»ç†ï¼ˆå¤šé¡¹ç›®/å¤šå›¢é˜Ÿåä½œï¼‰

| æ–‡æ¡£                     | ç›®çš„          | ç»´æŠ¤é¢‘ç‡   | å·¥å…·                                |
| :----------------------- | :------------ | :--------- | :---------------------------------- |
| äº§å“è·¯çº¿å›¾ï¼ˆRoadmapï¼‰    | å¯¹é½å•†ä¸šç›®æ ‡  | æ¯å­£åº¦     | Jiraã€ProductPlan                   |
| æŠ€æœ¯å€º Backlog           | é˜²æ­¢è…çƒ‚      | æ¯æœˆ       | Jira label: tech-debt               |
| ç¼–ç è§„èŒƒ                 | ç»Ÿä¸€é£æ ¼      | æ¯å¹´       | ESLint/Prettier + `CONTRIBUTING.md` |
| å‘å¸ƒæµç¨‹ï¼ˆRelease Flowï¼‰ | ç°åº¦/å›æ»šç­–ç•¥ | æ¯æ¬¡å¤§ç‰ˆæœ¬ | GitFlow æˆ– GitHub Flow æ–‡æ¡£         |
| ç¾éš¾æ¢å¤è®¡åˆ’ï¼ˆDRPï¼‰      | æœºæˆ¿/äº‘æ•…éšœ   | æ¯åŠå¹´     | `docs/DR.md` + æ¼”ç»ƒè®°å½•             |
| æ•°æ®å­—å…¸ & éšç§åˆè§„      | GDPR/å›½å¯†åˆè§„ | éšè¿­ä»£     | OneTrustã€è‡ªç ”è¡¨æ ¼                  |
| äº¤æ¥æ–‡æ¡£ï¼ˆHandoverï¼‰     | äººå‘˜æµåŠ¨      | ç¦»èŒå‰     | Confluence æ¨¡æ¿                     |

------

### ğŸ“ ç›®å½•æ¨¡æ¿ï¼ˆå¯ç›´æ¥ç”¨ï¼‰

```
repo-root/
â”œâ”€â”€ README.md
â”œâ”€â”€ CHANGELOG.md
â”œâ”€â”€ docs/
â”‚   â”œâ”€â”€ ENV.md
â”‚   â”œâ”€â”€ RUNBOOK.md
â”‚   â”œâ”€â”€ TEST.md
â”‚   â”œâ”€â”€ adr/
â”‚   â”‚   â””â”€â”€ 0001-use-kafka-for-events.md
â”‚   â””â”€â”€ arch/
â”‚       â”œâ”€â”€ c4-context.png
â”‚       â””â”€â”€ openapi.yaml
â”œâ”€â”€ .github/workflows/ci.yml
â””â”€â”€ CONTRIBUTING.md
```

------

### è½åœ°å»ºè®®

1. **å…ˆå†™â€œäº”åˆ†é’Ÿä¸Šæ‰‹â€ README**ï¼Œå…¶ä»–æ–‡æ¡£æŒ‰æ•…éšœ/æ–°äºº/äº¤æ¥ç—›ç‚¹é€æ­¥è¡¥ã€‚
2. **æ–‡æ¡£å³ä»£ç **ï¼šæŠŠ ADRã€API å¥‘çº¦ã€ç›‘æ§è§„åˆ™å…¨éƒ¨è¿› Gitï¼ŒMR è¯„å®¡å¼ºåˆ¶æ›´æ–°ã€‚
3. **è®¾ç«‹å•ä¸€å¯ä¿¡æº**ï¼šéœ€æ±‚ç”¨ Notion â†’ è‡ªåŠ¨ç”Ÿæˆ Jira ä»»åŠ¡ â†’ ä»£ç æ³¨é‡Šåå‘é“¾æ¥ PRDã€‚
4. **æ¯å­£åº¦â€œæ–‡æ¡£å¯ç”¨æ€§æ¼”ç»ƒâ€**ï¼šéšæœºæŠ½æ–°äºº 30 åˆ†é’Ÿä»é›¶æ­å»ºç¯å¢ƒï¼Œå¤±è´¥å°±è¡¥æ–‡æ¡£ã€‚





# æ•°æ®åº“è®¾è®¡

è¡¨éœ€è¦éµå®ˆè¡¨åŠŸèƒ½å•ä¸€èŒè´£

éœ€è¦è€ƒè™‘çš„æ•°æ®çš„æµåŠ¨æ–¹å‘æ€§ï¼Œä¿è¯é€»è¾‘ä¸Šçš„æ“ä½œåŒæ„ï¼Œä¾‹å¦‚å…³æ³¨åŠŸèƒ½

å¯¹äºæŒ‡å®šç±»å‹æšä¸¾ç±»å‹æŸ¥è¯¢æ•ˆç‡æ›´é«˜

# Thinkphp



# Vue

### Vue 3 ç”Ÿå‘½å‘¨æœŸé’©å­

| é’©å­                  | ç”¨æ³•è¯´æ˜                                                     | æ³¨æ„äº‹é¡¹ / æ¨èåœºæ™¯                                       |
| --------------------- | ------------------------------------------------------------ | --------------------------------------------------------- |
| **setup()**           | ç»„ä»¶åˆ›å»ºæ—¶æ‰§è¡Œï¼Œè¿›è¡Œåˆå§‹åŒ–ï¼Œæ›¿ä»£ `beforeCreate` å’Œ `created` | è¿™é‡Œä¸èƒ½è®¿é—® `this`ï¼Œåº”ä½¿ç”¨ç»„åˆå¼ APIï¼ˆrefã€reactive ç­‰ï¼‰ |
| **onBeforeMount()**   | æŒ‚è½½å‰æ‰§è¡Œ                                                   | ä¸€èˆ¬ç”¨å¾—å°‘ï¼Œå‡†å¤‡æŒ‚è½½ç›¸å…³æ•°æ®                              |
| **onMounted()**       | æŒ‚è½½å®Œæˆï¼ŒDOM æ¸²æŸ“å®Œæˆ                                       | æ“ä½œ DOMã€è°ƒç”¨ç¬¬ä¸‰æ–¹åº“çš„åˆå§‹åŒ–                            |
| **onBeforeUpdate()**  | æ•°æ®å˜åŒ–è§¦å‘è§†å›¾æ›´æ–°å‰                                       | ä¸è¦åœ¨è¿™é‡Œæ”¹å“åº”å¼æ•°æ®ï¼Œé¿å…æ­»å¾ªç¯                        |
| **onUpdated()**       | è§†å›¾æ›´æ–°å®Œæˆå                                               | æ“ä½œæ›´æ–°åçš„ DOM                                          |
| **onBeforeUnmount()** | ç»„ä»¶å¸è½½å‰                                                   | åšèµ„æºé‡Šæ”¾ã€è§£ç»‘äº‹ä»¶ç­‰æ¸…ç†å·¥ä½œ                            |
| **onUnmounted()**     | ç»„ä»¶å¸è½½å                                                   | å·²ä¸èƒ½è®¿é—®å“åº”å¼æ•°æ®                                      |
| **onActivated()**     | keep-alive ç»„ä»¶æ¿€æ´»                                          | æ¢å¤æ•°æ®ã€é‡æ–°å‘è¯·æ±‚                                      |
| **onDeactivated()**   | keep-alive ç»„ä»¶åœç”¨                                          | æš‚åœå®šæ—¶å™¨ã€ä¿å­˜çŠ¶æ€                                      |

![ç»„ä»¶ç”Ÿå‘½å‘¨æœŸå›¾ç¤º](./assets/lifecycle_zh-CN.W0MNXI0C.png)



### éšè—æ»šåŠ¨æ¡

| æµè§ˆå™¨        | éšè—æ»šåŠ¨æ¡çš„æ–¹æ³•                         |
| ------------- | ---------------------------------------- |
| Chrome/Safari | `::-webkit-scrollbar { display: none; }` |
| Firefox       | `scrollbar-width: none;`                 |
| IE/Edge       | `-ms-overflow-style: none;`              |



------

**âš ï¸ æ³¨æ„ï¼š**

- è™½ç„¶æ»šåŠ¨æ¡ä¸å¯è§ï¼Œä½†ç”¨æˆ·å¯ä»¥ç”¨ **é¼ æ ‡æ»šè½® / è§¦æ‘¸æ¿ / æ‰‹æŒ‡æ»‘åŠ¨ / é”®ç›˜æ–¹å‘é”®** æ¥æ»šåŠ¨ã€‚
- ä¸å»ºè®®ç”¨äºç”¨æˆ·å¿…é¡»æ˜ç¡®çŸ¥é“å¯æ»šåŠ¨çš„åŒºåŸŸï¼Œé™¤éä½ èƒ½ç”¨ç®­å¤´æç¤ºæˆ–åŠ¨ç”»å¼•å¯¼ç”¨æˆ·ã€‚



# MapLibre GL JS

**MapLibre GL JS**ï¼ˆä¸€ä¸ªå¼€æºçš„ Web åœ°å›¾åº“ï¼Œä¸ Mapbox GL JS å…¼å®¹ï¼‰



# ffmpeg

å¤„ç†è§†é¢‘å·¥å…·ï¼Œå¯ä»¥ç”¨äºæˆªå–è§†é¢‘å°é¢



# è¿œç¨‹SSHå¼€å‘

ç§˜é’¥ï¼š

```
PS C:\Users\Admin> ssh-keygen -t rsa -b 4096
Generating public/private rsa key pair.
Enter file in which to save the key (C:\Users\Admin/.ssh/id_rsa): 
Enter passphrase (empty for no passphrase): 
Enter same passphrase again: 
Your identification has been saved in C:\Users\Admin/.ssh/id_rsa        
Your public key has been saved in C:\Users\Admin/.ssh/id_rsa.pub        
The key fingerprint is:
SHA256:gPoeX7hrO8Rrr1HgG+wUIFJZIMlT1gy6vOtuMlsm8Mo admin@DESKTOP-6A52IHN
The key's randomart image is:
+---[RSA 4096]----+
|+o=B*            |
|.=+. =           |
| .. . +          |
|. .. o +         |
|.o.  .= S        |
|.... oo=         |
|..+ o.=..        |
|+*.. o=+         |
|BE  .o**.        |
+----[SHA256]-----+
PS C:\Users\Admin> 

```



# æ¨é€æ‹‰å»æ•°æ®å»é‡æœ€ç®€æ–¹æ¡ˆ

å»é‡æœ€ç®€è½åœ°æ–¹æ¡ˆï¼ˆâ‰¤ 1 MB æ•°æ®é‡é€šç”¨ï¼‰

å°é¡¹ç›®åˆ«ä¸€æ­¥åˆ°ä½æŠ„ B ç«™é‚£å¥—â€œå››å±‚è¿‡æ»¤â€ï¼Œ**ç”¨æœ€è½»é‡çš„æ–¹æ¡ˆå°±èƒ½ 99 % è§£å†³**ï¼š

1. åç«¯æ¥å£ä¸€æ¬¡æ€§è¿”å› **â€œæœ€æ–° N æ¡â€ + ä¸Šæ¬¡æœ€åä¸€æ¡ id**
2. å‰ç«¯ç”¨ **Set å»é‡** å°±å¤Ÿäº†
3. æ•°æ®é‡ä¸å¤§ï¼Œå…¨é‡æ‹‰å–ï¼Œç®€å•å¯é 

åç«¯ï¼ˆä¼ªä»£ç ï¼‰

```php
// è¯·æ±‚ï¼šGET /api/works?cursor=0&limit=20
$cursor = (int) request('cursor');
$list  = Work::orderBy('id','desc')
              ->where('id','<',$cursor)   // åªå–æ¯” cursor å°çš„
              ->limit(20)
              ->get();
return [
  'list' => $list,
  'next_cursor' => $list->last()->id ?? 0
];
```

å‰ç«¯ï¼ˆVue/React éƒ½ä¸€æ ·ï¼‰

```js
const ids = new Set();        // ä¼šè¯çº§å»é‡
const list = ref([]);

const loadMore = async () => {
  const { data } = await axios.get('/api/works', {
    params: { cursor: list.value.at(-1)?.id || 0, limit: 20 }
  });
  // è¿‡æ»¤é‡å¤
  const filtered = data.list.filter(item => !ids.has(item.id));
  filtered.forEach(item => ids.add(item.id));
  list.value.push(...filtered);
};
```

**å°é¡¹ç›®ï¼šåç«¯ç»™â€œæ¸¸æ ‡+limitâ€æ¥å£ï¼Œå‰ç«¯ä¸€ä¸ª Set å»é‡ï¼Œ20 è¡Œä»£ç æå®šï¼Œåˆ«ä¸Šå¸ƒéš†è¿‡æ»¤å™¨ã€‚**



# JavaScript

### `??` ï¼ˆç©ºå€¼åˆå¹¶ï¼‰

- åªåœ¨å·¦è¾¹æ˜¯ `null` æˆ– `undefined` æ—¶æ‰è¿”å›å³è¾¹ï¼Œå…¶å®ƒæƒ…å†µç›´æ¥è¿”å›å·¦è¾¹ã€‚

```
console.log(0 ?? 100);     // 0   ï¼ˆä¸ä¼šè¢«å½“æˆâ€œç©ºâ€ï¼‰
console.log("" ?? "é»˜è®¤");  // ""  ï¼ˆä¿ç•™ç©ºå­—ç¬¦ä¸²ï¼‰
console.log(null ?? "é»˜è®¤"); // "é»˜è®¤"
console.log(undefined ?? "é»˜è®¤"); // "é»˜è®¤"
```

### **å¯é€‰é“¾è¿ç®—ç¬¦ï¼ˆ`?.`ï¼‰**

å¯é€‰é“¾è¿ç®—ç¬¦ `?.` ç”¨æ¥ **å®‰å…¨åœ°è®¿é—®å¯¹è±¡å±æ€§æˆ–è°ƒç”¨æ–¹æ³•**ï¼Œé¿å…å› ä¸º `null` æˆ– `undefined` å¯¼è‡´æŠ¥é”™ã€‚

#### ç”¨æ³•

(1) **è®¿é—®å¯¹è±¡å±æ€§**

```
obj?.prop
```

- å¦‚æœ `obj` å­˜åœ¨ï¼Œè¿”å› `obj.prop`
- å¦‚æœ `obj` æ˜¯ `null` æˆ– `undefined`ï¼Œè¿”å› `undefined`

(2) **è®¿é—®åµŒå¥—å±æ€§**

```
user?.address?.city
```

- å¦‚æœ `user` æˆ– `user.address` æ˜¯ `null`/`undefined`ï¼Œç›´æ¥è¿”å› `undefined`

(3) **è°ƒç”¨æ–¹æ³•**

```
obj?.method?.()
```

- å¦‚æœ `obj.method` å­˜åœ¨ï¼Œå°±æ‰§è¡Œ
- å¦‚æœ `obj` æ˜¯ `null` æˆ–æ–¹æ³•ä¸å­˜åœ¨ï¼Œä¸ä¼šæŠ¥é”™ï¼Œè€Œæ˜¯è¿”å› `undefined`

(4) **è®¿é—®æ•°ç»„å…ƒç´ **

```
arr?.[0]
```

- å¦‚æœ `arr` å­˜åœ¨ï¼Œå°±å–ç¬¬ä¸€ä¸ªå…ƒç´ 
- å¦åˆ™è¿”å› `undefined`







# END



root

Visara@vr78